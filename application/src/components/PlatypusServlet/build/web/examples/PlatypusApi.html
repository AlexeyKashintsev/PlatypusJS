<html>
    <head>
        <title>Platypus javascript API</title>
        <style type="text/css">
            html, body {width:100%, height:100%}
        </style>     
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
        <script type="text/javascript" src="/js/api.js"></script>
        <script type="text/javascript">
            $(function () {
                var p = Platypus.API;
                var moduleId = "ServerModule1";
                p.setServerUrl("/application/");
                
                p.createServerModule(moduleId, function(data) { console.log("createServerModule done " + data.success) });
                
                $("#testModuleMethodButton").click(function() {
                    console.log("executeServerModuleMethod..");
                    p.executeServerModuleMethod(
                            moduleId, 
                            "f",//Loop back argument
                            [{ name : 'test'},2],
                            function(data) {
                                console.log("executeServerModuleMethod done data: " +  data);
                            });
                });
            });
        </script>
    </head>
    <body>
        <div>
        Invoke server module method.
        <input id="testModuleMethodButton" type="button"  value="Test"/>
        </div>
        <div>
        Form
        <form action="/application/api?type=14&moduleName=ServerModule1&methodName=f" method="POST">
            <input type="text" name="__param[]">
            <input type="text" name="__param[]">
            <input type="submit" value="Send form">
        </form>
        </div>

 
    </body>
</html> 
